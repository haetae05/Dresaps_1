# Domain 14: Global Localization & Legal Compliance (글로벌 현지화)

**기반 데이터**:
- **Consolidated Domains**: D01, D02, D04, D05, D07, D09, D11, D12, D13.
- **Philosophy**: "Digital Equity" (기술적 평등) & "Cultural Respect" (문화적 존중).

---

## 1. Global Architecture (From Domain 05/13)

### 1.1 Optimistic UI (반응성)
**"기다림은 죄악이다."**
- **Scenario**: 브라질 유저(Ping 300ms)가 '좋아요' 터치.
- **Action**: UI 즉시 반영(Red Heart) -> Background API 요청.
- **Fail-safe**: 요청 실패 시 조용히 롤백(Revert) 및 Toast 에러 출력 ("네트워크 상태를 확인해주세요").

### 1.2 Resource Management (i18n)
- **Asset**: 이미지, 3D 모델, 폰트는 CDN(CloudFront) Edge 캐싱을 통해 전 세계 어디서든 **0.1초 로딩** (From D13).
- **Text**: `ko.json`, `en.json`, `ja.json` 리소스를 별도 관리.
- **Fallback Rule**: 유저 설정 언어 리소스가 없을 경우, 무조건 **English (`en`)**를 로드하여 빈 화면(White Screen) 방지.
- **Terminology**: `Top 20`, `Diamond`, `Style Cup`, `Fashionista` 등 핵심 고유명사는 번역하지 않고 **영어 원문** 유지 (글로벌 브랜드 통일성).

### 1.3 Layout Safety
- **RTL Support**: 아랍어/히브리어 등 우서 문자권 대응을 위해 `Flexbox` 사용 시 `Left/Right` 대신 `Start/End` 속성 사용.
- **Text Wrapping**: 독일어 등 단어가 긴 언어에 대비하여, 모든 텍스트 컨테이너에 `flex: 1` 및 `flex-wrap: wrap` 적용 필수.

---

## 2. Time Standards (시간 표준 - From Domain 09/13)

### 2.1 Server Side (UTC Absolute)
- **DB/Log**: 무조건 **ISO 8601 UTC** 포맷 (`YYYY-MM-DDTHH:mm:ssZ`) 사용.
- **Constraint**: DB 세션 레벨에서 `TIMEZONE='UTC'`를 강제하여, 개발자의 로컬 실수 방지.
- **Global Event**: 랭킹 마감 등 전 세계 공통 이벤트는 **UTC 00:00** 기준 동시 마감.

### 2.2 Client Side (Server-Validated Local Time)
- **Display**: `Intl.RelativeTimeFormat` 사용하여 유저 로컬 시간대 기준으로 변환 ("방금 전", "3시간 전").
- **Benefit Reset (Security Patch)**:
    - **Logic**: 유저 폰의 시간이 아니라, **DB에 저장된 유저의 `timezone`** (예: 'Asia/Seoul')을 기준으로 서버가 계산한다.
    - **Trigger**: `Server_UTC_Time` AT TIME ZONE `User_Timezone` >= `00:00` 일 때 보상 지급.
    - **Defense**: 유저가 폰 시간을 조작해도 서버 기준이므로 보상을 중복 수령할 수 없음.

---

## 3. Legal Compliance (규제 대응 - From Domain 12/02)

### 3.1 GDPR (Europe) & Right to Erasure
- **Definition**: "잊혀질 권리" 보장.
- **Action (Infra Link)**: 계정 삭제 요청 시, **[Domain 13]**의 `Crypto-Shredding` 기술을 호출하여 PII(개인식별정보)를 물리적으로 복구 불가능하게 파기.
- **Cookie Consent**: EU 지역 IP 접속 시 CMP(Consent Management Platform) 팝업 강제 노출.

### 3.2 Neutral Age Gate (COPPA/Info Act)
- **Flow**: "14세 이상입니까?" 체크박스(X) -> **"생년월일 입력" (O)**.
- **Logic**: 입력된 생년월일 기반으로 만 14세 미만 판별 시, 가입 프로세스 즉시 종료 및 입력 데이터 휘발 (저장하지 않음).

### 3.3 Platform Policy (Google/Apple)
- **Account Deletion**: 앱 내 '회원 탈퇴' 버튼을 찾기 쉬운 곳(설정 최상단)에 배치.
- **UGC Safety**: 게시물 내 신고(Report) 및 유저 차단(Block) 기능 필수 구현.

### 3.4 PSA (Payment Services Act - Japan)
- **Context**: 일본 자금결제법상 유료 포인트 예치 시 공탁금 의무 발생.
- **Strategy**: 
    - **[Domain 07]**의 이원화 지갑 정책에 따라, '필름(Film)'은 유료 결제로 구매할 수 없으며 오직 활동 보상으로만 지급됨을 약관에 명시.
    - **Verification**: `film_revenue` (현금성-출금가능)와 `film_free` (비현금성-활동보상)의 엄격한 분리를 통해 법적 리스크 원천 차단.

---

## 4. Culturalization (문화적 현지화 - From Domain 01/11)

### 4.1 Persona Context (The Hoodie - GM Libe)
- **KR (Korea)**: "형이 컵라면 먹다가 고쳤어." (짠함, 갓생).
- **US/Global**: "Fixed bugs while drinking Monster energy." (Underdog).
- **JP (Japan)**: "Tamashii(혼)를 담아 수정했습니다." (Craftsmanship).

### 4.2 Content Filtering Logic
- **Symbol**: 욱일기, 나치 문양 등 특정 국가의 역사적 금기 심볼을 AI Vision으로 제재.
- **Text Filter Optimization (Infra Link)**:
    - **Storage**: 각국 언어별 욕설 DB(`bad_words_ko.json` 등)를 Storage에 저장.
    - **Performance**: 채팅 요청마다 Storage를 읽으면 비용이 발생하므로, Edge Function의 **Global Memory**에 로드하여 캐싱 처리.

### 4.3 Number Formatting (From D07)
- **Price/Currency**: `Intl.NumberFormat` 사용.
    - KR: ₩6,900 (KRW)
    - US: $6.99 (USD)
    - JP: ¥700 (JPY)